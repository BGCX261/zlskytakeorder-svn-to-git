<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"><html><head>
		<title></title>
<meta content="Microsoft Visual Studio .NET 7.1" name=GENERATOR>
<meta content=VisualStudio.HTML name=ProgId>
<meta content="Microsoft Visual Studio .NET 7.1" name=Originator>
		<!-- import the calendar script -->
<script src="calendar.js" type=text/javascript></script>

<script src="lang/cn_utf8.js" type=text/javascript></script>

<style type=text/css> @import url("calendar-green.css");
	</style>

<script type=text/javascript >
			// 获得客户端用户选择日期
			function selected(cal, date) {
				cal.sel.value = date; // 在输入框显示选择的日期
				if (cal.dateClicked)
					// 判断添加单击事件
					cal.callCloseHandler();
			}
			//在客户端选择日期，关闭
			function closeHandler(cal) {
				cal.hide();                        // 隐藏日历
				//  cal.destroy();
				_dynarch_popupCalendar = null;
			}
			//显示日历 捕获mousedown事件判断显示还是隐藏
			function showCalendar(id, format, showsTime, showsOtherMonths) {
				var el = document.getElementById(id);
				if (_dynarch_popupCalendar != null) {
					_dynarch_popupCalendar.hide();                 // 显示日历
				} else {
					var cal = new Calendar(1, null, selected, closeHandler);
					//显示星期
					// cal.weekNumbers = false;
					if (typeof showsTime == "string") {
					cal.showsTime = true;
					cal.time24 = (showsTime == "24");
					}
					if (showsOtherMonths) {
					cal.showsOtherMonths = true;
					}
					_dynarch_popupCalendar = cal;                 
					cal.setRange(1900, 2070);        // 年份的范围
					cal.create();
				}
				_dynarch_popupCalendar.setDateFormat(format);    // 设置指定日期的格式
				_dynarch_popupCalendar.parseDate(el.value);      
				_dynarch_popupCalendar.sel = el;                 // 获得input ID
				// 触发button事件就把参数传到showAtElement
				_dynarch_popupCalendar.showAtElement(el.nextSibling, "Br");        // 显示日历
				return false;
			}
		</script>
</head>
<body>
	<INPUT id=Text1 type=text size=54 name=Text1><INPUT id=Button1 onclick="return showCalendar('Text1', '%Y-%m-%d [%W] %H:%M:%S', '24', true)" type=button value=... name=Button1> 

</body>
</html>
